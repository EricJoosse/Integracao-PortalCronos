
Email/Skype padrão: 

OBSERVAÇÕES: 
   1. EDITAR O EMAIL E O MANUAL EM ANEXO: SUBSTITUIR "WINTHOR/APS/ETC"  E  "ORACLE/FIREBIRD/ETC" 
      E "AnyDesk/Team Viewer" E "ws-jrembalagem" E "boa tarde/dia"
   2. SÓ COPIAR LEAO DEPENDENDO DO HORÁRIO E LOCAl (CASA / APPLY):
   3. PREPARAR O EMAIL NA HORA QUE A ALERTA AUTOMÁTICA CHEGAR, PORÉM ESPERAR MAIS 15 MINUTOS 
      PARA A SEGUNDA TENTATIVA DE OFERTAMENTO POIS É NORMAL QUE DE VEZ EM QUANDO O SERVIDOR 
      ESTÁ INDISPONÍVEL ALGUNS MINUTOS. 
      DE TODO JEITO NA HORA DE ENVIAR O EMAIL, VERIFICAR NOVAMENTE SE O SERVIÇO JÁ TINHA VOLTADO 
      A FUNCIONAR.      
   4. NÃO ADICIONAR NO MANUAL PARA A TI VERIFICAR OS ARQUIVOS DE LOG DE ERRO 
      NO DIR C:\TEMP\PORTAL CRONOS\XML\ POIS ELES VÃO OLHAR EM ARQUIVOS ANTIGOS 
      QUE NÃO TEM NADA A VER COM O PROBLEMA!      

Para: felipe.lolaia@maritimospescados.com.br
Assunto: URGENTE! Parada integração PCronos/WinThor - Marítimos Pescados
Felipe, bom dia!

Para: projetosti@formaggio.com.br
Assunto: URGENTE! Parada integração PCronos/APS - Formaggio
Geymison, bom dia!

Para: jrembalagem.ti@gmail.com
Assunto: URGENTE! Parada integração PCronos/WinThor - JR Embalagem
Ivan, bom dia!

Para: marcelo@casadoqueijo.net.br
Assunto: URGENTE! Parada integração PCronos/WinThor - Prolac
Marcelo, bom dia!
 
   desde hoje (23/02/2018) 08:40 o Portal Cronos não está mais recebendo ofertas automáticas da Prolac.
 
<b>Isso é urgente e importante para resolver logo para evitar que a  Prolac perde muitas oportunidades de venda!</b>
OU:  
É melhor resolver isso logo, pois já tem uma cotação grande pendente com muitos "Meus Produtos" vendidos pela Prolac (164) nesta cotação!
E a quantidade de cotações vai crescer rapidamente no final da semana!
OU:
No momento já tem 3 cotações esperando e esta quantidade vai crescer rapidamente!
OU:  
Só temos até hoje (05/02/2018) 12:30 para resolver este problema (é a data fim da cotação que vence primeiro e que não está ofertada). 
OU:
Favor solicitar os vendedores ofertar as cotações ...... manualmente, pois não vai dar mais tempo suficiente 
para ofertar estas cotações automaticamente. 
OU:
Se não conseguir resolver antes de amanhã (15/02/2018) 10:30 horas, favor solicitar os vendedores ofertar as cotações ...... manualmente, 
pois a cotação que vence primeiro e que não está ofertada vence 15/02/2018 10:30,  
e tem muitos Meus Produtos (178) nesta cotação!
OU:
É melhor resolver isso logo, antes de amanhã (15/02/2018) 10:30 (é a data fim da cotação que vence primeiro e que não está ofertada),  
pois tem muitos Meus Produtos (178) nesta cotação!
 
<b>É melhor NÃO simplesmente reiniciar o servidor</b>, porém é melhor identificar a causa <red>para podermos evitar repetição durante finais da semana quando não tem ninguém disponível para ficar reiniciando</red>. 
Se você não sabe já o que é, veja em anexo uma lista de possíveis causas e outras dicas. 

No caso que o manual em anexo não foi suficiente para identificar ou resolver a causa, 
favor habilitar o AnyDesk/Team Viewer para mim, e informar o ID e a senha no Skype (contato "Eric Jo"), 
para ver se a causa foi alguma falha dentro do serviço das ofertas automáticas.

No caso que você mesmo resolveu o problema, favor me informar para re-processar as cotações pendentes, 
pois normalmente a integração faz apenas 3 tentativas para cada cotação.   
              
Atc,
Eric 



Assunto: JR Embalagem -  Problema no servidor de hospedagem da integração PCronos/WinThor
Para: jrembalagem.ti@gmail.com
Ivan, bom dia!
 
  ontem (19/02/2018) de 11:00 até 21:00 o serviço das ofertas automáticas no servidor da JR Embalagem 
estava comunicando com o Portal Cronos, enviando arquivos REC_*.xml, porém não estava enviando arquivos OFE_*.xml, 
então não estava ofertando. Precisamos descobrir a causa para tomar providências.   

1. Favor verificar no diretório C:\Arquivos de Programas PC\Integração Fornecedor - Portal Cronos\ 
    se existir um dos seguintes tipos de arquivos de log com data no período acima: 
     - hs_err_pidxxxx.mdmp?
     - hs_err_pidxxxx.log?
     - replay_pidxxxx.log?
     
2. Favor verificar no arquivo de log de Windows se aconteceram alertas que a memória RAM estava cheia neste período 
    (Painel de Controle > Ferramentas Administrativas > Visualizar Eventos > Logs do Windows > Aplicativo)
    No caso, tem como descobrir o percentual de memória RAM ocupada exatamente?
         
3. Estava rodando um scan de anti-virus neste período?
 
4. Favor enviar para mim o maior arquivo Debugxxxxx.log com data dentro deste período que se encontra 
    no outro diretório  C:\temp\PortalCronos\XML\.
    Estou precisando disso para achar uma forma para automatizar o re-processamento das cotações pendentes 
    após a liberação da memória RAM, ou após a volta de uma queda do banco Oracle. 
   
    
Observação: O servidor de hospedagem do serviço das ofertas automáticas 
             é o servidor no qual existe um diretório C:\Arquivos de Programas PC\ 
             
Atc,
Eric 



(  ) Leão,
  
    precisamos automatizar o re-processamento das cotações pendentes após a liberação da memória RAM, 
pois isso acontece em média uma vez por semana e não posso ficar reprocessando as cotações 
manualmente toda vez, apagando os registros com 3 tentativas na tabela dbo.Integracao_Cotacao_Fornecedor, 
 
Eric     

==========================================================================================================
DIVERSOS: 

Skype:
Felipe, boa tarde! Você não prefere que vou instalar a integração WinThor/Portal Cronos em outro servidor de vocês?
Pois com o servidor atual, desde muito tempo, o Portal Cronos nunca mais está recebendo ofertas automáticas do Marítimos Pescados...

Felipe, hoje estou disponível, aproveita! Você tem outro servidor para instalar a integração WinThor/PCronos? 

Isso resolveu o problema. O WinThor voltou a enviar as ofertas automaticamente para o Portal Cronos

Vou desconectar o Team Viewer, obrigado

NO CASO DO ANYDESK:
Tem como definir uma senha de acesso no AnyDesk? A grande vantagem disso é que não vou precisar aguardar seu clique "OK" toda vez que o AnyDesk cair.
Isso é muito importante para evitar ainda mais atraso e ainda mais perda de oportunidades de vendas pela Prolac   
  
  	CASO QUE NÂO:
	Então hoje vou precisar de sua confirmação diversas vezes! A Anydesk caiu neste momento!

Emai:
PARA GANHAR TEMPO:
Leão, Marcelo,
 
  configurei as 2 versões de Java em paralelo e executei o serviço de ofertamento automático uma vez, com sucesso.
Apenas falta resolver um problema que o serviço ainda não está rodando de 15 a 15 minutos.
Isso vou resolver depois do almoço com mais calma, pois no momento não tem mais cotações pendentes e a próxima cotação
nova que será lançada no futuro vai vencer daqui há pelo menos 5 horas.
Apenas tem alguns produtos com problema, isso é com vocês. Favor resolver ou encaminhar para o gerente de vendas:
O Código de Produto 103.746 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 119381 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 118533 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 116970 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 117052 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 108271 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 119113 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 119754 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
O Código de Produto 101488 do Fornecedor, informado na tela De-Para de Produtos no Portal Cronos, não existe no sistema WinThor do fornecedor Comercial Prolac.
 
Atc,
Eric
==========================================================================================================
NO CASO DE UMA PARADA POR CAUSA DE ATUALIZAÇÃO JAVA:

Skype:
Java foi atualizado para qual sistema/programa exatamente?
 
Quando você desocupar o servidor, me avise
 
Email:
Assunto: Re: Migração Java
Marcelo,
  
  O WinThor voltou a enviar as ofertas automaticamente para o Portal Cronos 
  
  
Marcelo,
 
   estou adaptando nosso serviço de integração WinThor/PCronos para a versão super-nova de Java que você tinha instalado ontem de repente.
Previsão: segunda-feira ou terça-feira.
Então favor avisar os vendedores para ficar ofertando manualmente durante alguns dias.
 
Na próxima vez favor me avisar da próxima migração de Java com alguns dias de antecedência!
 
Outra opção seria instalar 2 versões diferentes de Java em paralelo, uma versão para o WinThor, e outra versão para o Portal Cronos,
porém isso tem um risco pequeno que o WinThor vai parar de funcionar para todos os usuários. Você quer correr este risco? 
Esta opção também não é tão fácil e deveria ser feito com calma para minimizar os riscos, então mesmo se você escolher esta opção mais riscado, a previsão vai ser segunda-feira também,
 
Atc,  
Eric


Marcelo, 
  
   a migração de Java foi concluída e o serviço de integração voltou a ofertar automaticamente 
a cada 15 minutos. 
Pode fechar o AnyDesk,
   
Atc,
Eric
 
==========================================================================================================
Scripts:

SELECT  *
  FROM [PCronos_Producao].[dbo].[Integracao_Cotacao_Fornecedor]
  where id_fornecedor_fornec = 
order by dt_envio_cotacao_icotfor desc

-- Verificar se pelo menos os usuários estão ofertando manualmente: 

update [PCronos_Producao].[dbo].[Usuario_Sistema]  
    set id_fornecedor_fornec = 
  where cd_usuario_sistema_ususis = 'ericcoringa'

-- e em seguida conectar no Portal Cronos como ericcoringa

-- Acompanhar se já está resolvido:
exec dbo.monitorarIntegracaoFornecedores @incremental_15min = 0

-- Se precisar, re-processar cotações com 3 tentativas:
delete
  FROM [PCronos_Producao].[dbo].[Integracao_Cotacao_Fornecedor]
  where id_cotacao_cot in ()  -- Copiar todos os id´s de uma vez de 
                              -- "exec dbo.monitorarIntegracaoFornecedores @incremental_15min = 0"
                              -- e adicionar vírgulas
  and id_fornecedor_fornec = 


